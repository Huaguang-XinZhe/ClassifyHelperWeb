<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <title>TestCreateURL</title>
  </head>
  <body>
    <script>
      let blob = new Blob(["Hello, world!"], { type: "text/plain" });
      let url = URL.createObjectURL(blob);
      console.log(url);
      // 现在你可以使用这个 URL 了，例如在 img 元素中显示一个图片（纯文本的 url 设置给 img 元素没有效果！）
      // let img = document.createElement("img");
      // img.src = url;
      // document.body.appendChild(img);
      // 或者在一个链接中下载文件
      let a = document.createElement("a");
      a.href = url;
      a.download = "hello.txt";
      a.click();
    </script>
    <script>
      // 重定向到百度搜索
      // let url = new URL("https://www.baidu.com/s");
      // url.searchParams.set("wd", "Hello, world!");
      // 太快了，延迟一下
      // setTimeout(() => {
      //   let url = new URL("https://www.baidu.com/s");
      //   url.searchParams.set("wd", "Hello, world!");
      // }, 1000);
      // 没用，换一种方法
      // location.href = "https://www.baidu.com/s?wd=Hello%2C%20world!";

      // 读取 Cookies
      // 如果一个Cookie被标记为 HttpOnly，那么它就不能被 JavaScript 读取，但是可以被浏览器发送到服务器。
      // let cookies = document.cookie;
      // console.log(cookies);
      // 测试一下
      // document.cookie = "user=John";
      // document.cookie = "password=123";
      // console.log(document.cookie);
    </script>
  </body>
</html>
